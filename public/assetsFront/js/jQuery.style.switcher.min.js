(function(a){var f,c={hasPreview:true,defaultThemeId:"jssDefault",fullPath:"css/",cookie:{expires:30,isManagingLoad:true}},d="jss_selected",b={};b={getItem:function(g){if(!g){return null}return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(g).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(g,p,j,l,h,m){if(!g||/^(?:expires|max\-age|path|domain|secure)$/i.test(g)){return false}var k="";if(j){switch(j.constructor){case Number:k=j===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+j;break;case String:k="; expires="+j;break;case Date:k="; expires="+j.toUTCString();break}}document.cookie=encodeURIComponent(g)+"="+encodeURIComponent(p)+k+(h?"; domain="+h:"")+(l?"; path="+l:"")+(m?"; secure":"");return true},removeItem:function(g,i,h){if(!this.hasItem(g)){return false}document.cookie=encodeURIComponent(g)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(h?"; domain="+h:"")+(i?"; path="+i:"");return true},hasItem:function(g){if(!g){return false}return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(g).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},keys:function(){var g=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var i=g.length,h=0;h<i;h++){g[h]=decodeURIComponent(g[h])}return g}};f=function(g,h){return this.init(g,h)};f.prototype={$root:null,config:{},$themeCss:null,defaultTheme:null,init:function(g,h){this.$root=g;this.config=h?h:{};this.setDefaultTheme();if(this.defaultTheme){if(this.config.cookie){this.checkCookie()}if(this.config.hasPreview){this.addHoverEvents()}this.addClickEvents()}else{this.$root.addClass("jssError error level0")}},setDefaultTheme:function(){this.$themeCss=a("link[id="+this.config.defaultThemeId+"]");if(this.$themeCss.length){this.defaultTheme=this.$themeCss.attr("href")}},resetStyle:function(){this.updateStyle(this.defaultTheme)},updateStyle:function(g){this.$themeCss.attr("href",g)},getFullAssetPath:function(g){return this.config.fullPath+g+".css"},checkCookie:function(){var g;if(this.config.cookie&&this.config.cookie.isManagingLoad){g=b.getItem(d);if(g){newStyle=this.getFullAssetPath(g);this.updateStyle(newStyle);this.defaultTheme=newStyle}}},addHoverEvents:function(){var e=this;this.$root.find("a").hover(function(){var g=a(this).data("theme"),h=e.getFullAssetPath(g);e.updateStyle(h)},function(){e.resetStyle()})},addClickEvents:function(){var e=this;this.$root.find("a").click(function(){var g=a(this).data("theme"),h=e.getFullAssetPath(g);e.updateStyle(h);e.defaultTheme=h;if(e.config.cookie){b.setItem(d,g,e.config.cookie.expires)}})}};a.fn.styleSwitcher=function(e){return new f(this,a.extend(true,c,e))}})(jQuery);